"use strict";(globalThis.webpackChunkportfolio=globalThis.webpackChunkportfolio||[]).push([[8470],{2850(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"side-projects/release-helm-charts-ga","title":"Release Helm Charts - GitHub Action","description":"Reusable GitHub Action automating Helm chart releases to GitHub Pages with linting, packaging, and index generation in a single workflow step.","source":"@site/content/projects/side-projects/release-helm-charts-ga.md","sourceDirName":"side-projects","slug":"/side-projects/release-helm-charts-ga","permalink":"/portfolio/projects/side-projects/release-helm-charts-ga","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"GitHub Actions","permalink":"/portfolio/projects/tags/git-hub-actions"},{"inline":true,"label":"Helm","permalink":"/portfolio/projects/tags/helm"},{"inline":true,"label":"CI/CD","permalink":"/portfolio/projects/tags/ci-cd"},{"inline":true,"label":"Bash","permalink":"/portfolio/projects/tags/bash"}],"version":"current","frontMatter":{"title":"Release Helm Charts - GitHub Action","tags":["GitHub Actions","Helm","CI/CD","Bash"],"description":"Reusable GitHub Action automating Helm chart releases to GitHub Pages with linting, packaging, and index generation in a single workflow step."},"sidebar":"projectsSidebar","previous":{"title":"Box2Home - Internal Data Platform","permalink":"/portfolio/projects/side-projects/internal-data-platform"}}');var s=i(4848),r=i(8453);const a={title:"Release Helm Charts - GitHub Action",tags:["GitHub Actions","Helm","CI/CD","Bash"],description:"Reusable GitHub Action automating Helm chart releases to GitHub Pages with linting, packaging, and index generation in a single workflow step."},l="Release Helm Charts - GitHub Action",o={},c=[{value:"Overview",id:"overview",level:2},{value:"What it is",id:"what-it-is",level:3},{value:"Why it exists",id:"why-it-exists",level:3},{value:"Outcome",id:"outcome",level:3},{value:"Tech Stack",id:"tech-stack",level:2},{value:"Implementation Setup",id:"implementation-setup",level:2},{value:"Action Structure",id:"action-structure",level:3},{value:"Workflow",id:"workflow",level:3},{value:"Key Implementation Details",id:"key-implementation-details",level:3},{value:"Key Challenges &amp; Solutions",id:"key-challenges--solutions",level:2},{value:"Challenge 1: Managing Two Branches Simultaneously",id:"challenge-1-managing-two-branches-simultaneously",level:3},{value:"Challenge 2: Preserving Chart Version History",id:"challenge-2-preserving-chart-version-history",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"release-helm-charts---github-action",children:"Release Helm Charts - GitHub Action"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://github.com/rayen-dhmaied/release-helm-charts",children:"View Source Code on GitHub"})," \u2192"]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.h3,{id:"what-it-is",children:"What it is"}),"\n",(0,s.jsx)(n.p,{children:"Reusable GitHub Action that automates Helm chart releases to GitHub Pages."}),"\n",(0,s.jsx)(n.h3,{id:"why-it-exists",children:"Why it exists"}),"\n",(0,s.jsx)(n.p,{children:"Wanted to learn how GitHub Actions composite actions work and understand Helm repository mechanics by building one from scratch. Ended up using it in every project that needs chart distribution."}),"\n",(0,s.jsx)(n.h3,{id:"outcome",children:"Outcome"}),"\n",(0,s.jsx)(n.admonition,{title:"Key Results",type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Published on GitHub Marketplace"})," - Available as reusable action"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Actually used in production"})," - Powers chart releases across multiple projects"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clean codebase"})," - Composite action with bash scripts, no external dependencies"]}),"\n"]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"tech-stack",children:"Tech Stack"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"GitHub Actions"})," (composite), ",(0,s.jsx)(n.strong,{children:"Helm"}),", ",(0,s.jsx)(n.strong,{children:"GitHub Pages"}),", ",(0,s.jsx)(n.strong,{children:"Bash"}),", ",(0,s.jsx)(n.strong,{children:"Git"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"implementation-setup",children:"Implementation Setup"}),"\n",(0,s.jsx)(n.h3,{id:"action-structure",children:"Action Structure"}),"\n",(0,s.jsx)(n.p,{children:"Composite action using bash scripts for each step:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Git operations for branch management and change detection"}),"\n",(0,s.jsx)(n.li,{children:"Helm commands for dependency updates, linting, and packaging"}),"\n",(0,s.jsxs)(n.li,{children:["Index generation and updates using ",(0,s.jsx)(n.code,{children:"helm repo index"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"workflow",children:"Workflow"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Checkout source branch and GitHub Pages branch separately"}),"\n",(0,s.jsx)(n.li,{children:"Compare branches with git diff to find modified charts"}),"\n",(0,s.jsx)(n.li,{children:"Update chart dependencies"}),"\n",(0,s.jsx)(n.li,{children:"Lint and package changed charts"}),"\n",(0,s.jsxs)(n.li,{children:["Update or create ",(0,s.jsx)(n.code,{children:"index.yaml"})]}),"\n",(0,s.jsx)(n.li,{children:"Commit and push to GitHub Pages branch"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"key-implementation-details",children:"Key Implementation Details"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dual checkout strategy:"})," Source branch in workspace root, Pages branch in subdirectory"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Change detection:"})," Git diff between branches to process only modified charts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Index merging:"})," Preserves existing chart versions when adding new releases"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"key-challenges--solutions",children:"Key Challenges & Solutions"}),"\n",(0,s.jsx)(n.h3,{id:"challenge-1-managing-two-branches-simultaneously",children:"Challenge 1: Managing Two Branches Simultaneously"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem:"})," Needed to compare changes between source branch and GitHub Pages branch, then update the Pages branch. Standard checkout action overwrites the workspace."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution:"})," Used ",(0,s.jsx)(n.code,{children:"actions/checkout"})," twice with different ",(0,s.jsx)(n.code,{children:"path"})," parameters. Source branch at workspace root, Pages branch in subdirectory. Git diff compares between them to find modified charts."]}),"\n",(0,s.jsx)(n.admonition,{title:"Result",type:"success",children:(0,s.jsx)(n.p,{children:"Can detect changes and update publish branch without branch switching or stashing"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"challenge-2-preserving-chart-version-history",children:"Challenge 2: Preserving Chart Version History"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Problem:"})," Helm repository index needs all previous chart versions listed. Regenerating from scratch would lose old releases."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Solution:"})," Copy existing ",(0,s.jsx)(n.code,{children:"index.yaml"})," from Pages branch before generating new index. Use ",(0,s.jsx)(n.code,{children:"helm repo index --merge"})," to combine existing entries with new packages."]}),"\n",(0,s.jsx)(n.admonition,{title:"Result",type:"success",children:(0,s.jsx)(n.p,{children:"Published charts maintain full version history, users can install any previous version"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453(e,n,i){i.d(n,{R:()=>a,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);